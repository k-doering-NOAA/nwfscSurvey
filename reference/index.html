<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Function reference â€¢ nwfscSurvey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function reference"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nwfscSurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/nwfscSurvey.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-index">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Function reference</h1>
    </div>

    <div class="section level2">
      <h2 id="all-functions">All functions<a class="anchor" aria-label="anchor" href="#all-functions"></a></h2>
      
      

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="AFSCforeign_hauls.html">AFSCforeign_hauls</a></code> 
        </dt>
        <dd>Example data for AFSCforeign_hauls</dd>
      </dl><dl><dt>
          
          <code><a href="Biomass.fn.html">Biomass.fn()</a></code> 
        </dt>
        <dd>Calculates design based estimates from survey data for West Coast surveys. The design based index is calculated based on the area of the strata and the mean catch by strata. See: Gunderson, D.R. and Sample, T.M. 1980. Distribution and abundance of rockfish off Washington, Oregon, and California during 1977. Marine Fisheries Review: March - April.</dd>
      </dl><dl><dt>
          
          <code><a href="CheckStrata.fn.html">CheckStrata.fn()</a></code> 
        </dt>
        <dd>Calculates and returns the total number of tows and positive tows conducted in each strata by year. The selected stratas are used to expand the length and marginal age compositions and to calculate a design based index using the Biomass.fn function.</dd>
      </dl><dl><dt>
          
          <code><a href="CreateStrataDF.fn.html">CreateStrataDF.fn()</a></code> 
        </dt>
        <dd>Create strata data frame using <code>StrataAreas.fn</code></dd>
      </dl><dl><dt>
          
          <code><a href="Format.AKSlope.fn.html">Format.AKSlope.fn()</a></code> 
        </dt>
        <dd>Rename columns in the AFSC slope survey data file received prior to the creation of the NWFSC data warehouse. This function converts the older data files to create the needed column names to work within survey package functions. Output from this function will be list of containing catch, length, and age data.</dd>
      </dl><dl><dt>
          
          <code><a href="GetN.fn.html">GetN.fn()</a></code> 
        </dt>
        <dd>Calculate effN input sample sizes</dd>
      </dl><dl><dt>
          
          <code><a href="GetSpp.fn.html">GetSpp.fn()</a></code> 
        </dt>
        <dd>Get Species Information</dd>
      </dl><dl><dt>
          
          <code><a href="GetSppDefault.fn.html">GetSppDefault.fn()</a></code> 
        </dt>
        <dd>Get Vector of Default Species Names for US West Coast</dd>
      </dl><dl><dt>
          
          <code><a href="GetStrata.fn.html">GetStrata.fn()</a></code> 
        </dt>
        <dd>Get Default Strata</dd>
      </dl><dl><dt>
          
          <code><a href="GetSurveyAbb.fn.html">GetSurveyAbb.fn()</a></code> 
        </dt>
        <dd>Get Survey Abbreviation</dd>
      </dl><dl><dt>
          
          <code><a href="PlotBio.fn.html">PlotBio.fn()</a></code> 
        </dt>
        <dd>Plots the biomass with confidence intervals</dd>
      </dl><dl><dt>
          
          <code><a href="PlotBioStrata.fn.html">PlotBioStrata.fn()</a></code> 
        </dt>
        <dd>Plots the biomass with confidence intervals</dd>
      </dl><dl><dt>
          
          <code><a href="PlotFreqData.fn.html">PlotFreqData.fn()</a></code> 
        </dt>
        <dd>This function plots frequency data as bubble plots You may want to change all zeros to NA's so that those observations are not plotted. If you don't then set zero2NAs=F</dd>
      </dl><dl><dt>
          
          <code><a href="PlotMap.fn.html">PlotMap.fn()</a></code> 
        </dt>
        <dd>Plot two figures showing catch-per-unit-effort data</dd>
      </dl><dl><dt>
          
          <code><a href="PlotPresenceAbsence.fn.html">PlotPresenceAbsence.fn()</a></code> 
        </dt>
        <dd>Plot showing presence and absence per haul by depth, latitude, or sex bin</dd>
      </dl><dl><dt>
          
          <code><a href="PlotSexRatio.fn.html">PlotSexRatio.fn()</a></code> 
        </dt>
        <dd>Function to plot sex ratio</dd>
      </dl><dl><dt>
          
          <code><a href="PlotSexRatioStrata.fn.html">PlotSexRatioStrata.fn()</a></code> 
        </dt>
        <dd>Function to plot sex ratio by strata</dd>
      </dl><dl><dt>
          
          <code><a href="PlotVarLengthAtAge.fn.html">PlotVarLengthAtAge.fn()</a></code> 
        </dt>
        <dd>Plot variability of length at age</dd>
      </dl><dl><dt>
          
          <code><a href="PullBio.fn.html">PullBio.fn()</a></code> 
        </dt>
        <dd>Pull biological data (age, length, weight) from the NWFSC data warehouse The website is: https://www.webapps.nwfsc.noaa.gov/data This function can be used to pull a single species or all observed species In order to pull all species leave Name = NULL and SciName = NULL</dd>
      </dl><dl><dt>
          
          <code><a href="PullCatch.fn.html">PullCatch.fn()</a></code> 
        </dt>
        <dd>Pull catch data from the NWFSC data warehouse</dd>
      </dl><dl><dt>
          
          <code><a href="PullHaul.fn.html">PullHaul.fn()</a></code> 
        </dt>
        <dd>Pull haul data from the NWFSC data warehouse The website is: https://www.webapps.nwfsc.noaa.gov/data This function can be used to pull haul data and associated covariates</dd>
      </dl><dl><dt>
          
          <code><a href="PullSpp.html">PullSpp</a></code> 
        </dt>
        <dd>Sql pull of species names</dd>
      </dl><dl><dt>
          
          <code><a href="PullSpp.fn.html">PullSpp.fn()</a></code> 
        </dt>
        <dd>Pull species names from the warehouse</dd>
      </dl><dl><dt>
          
          <code><a href="ReadInAges.fn.html">ReadInAges.fn()</a></code> 
        </dt>
        <dd>Reads in the West Coast Trienial survey data and filters the data into what is necessary It reads in data and makes sure only the species necessary are kept may want to keep NA (blank in Excel) to select the zero tows removeCAN is a flag if you want tows in Canadian waters removed</dd>
      </dl><dl><dt>
          
          <code><a href="ReadInLengths.fn.html">ReadInLengths.fn()</a></code> 
        </dt>
        <dd>Reads in the compositional survey data and filters the data into what is necessary It reads in catch and station data and makes sure only the species necessary are kept <div class="section"> <h3 id="may-want-to-keep-na-blank-in-excel-to-select-the-zero-tows">may want to keep NA (blank in Excel) to select the zero tows<a class="anchor" aria-label="anchor" href="#may-want-to-keep-na-blank-in-excel-to-select-the-zero-tows"></a></h3> <p>removeCAN is a flag if you want tows in Canadian waters removed need the file called foreign_hauls.csv</p> </div></dd>
      </dl><dl><dt>
          
          <code><a href="SA3.html">SA3</a></code> 
        </dt>
        <dd>A data set for determining strata areas (hectares)</dd>
      </dl><dl><dt>
          
          <code><a href="SA3_v2021.1.html">SA3_v2021.1</a></code> 
        </dt>
        <dd>A data set for determining strata areas (hectares)</dd>
      </dl><dl><dt>
          
          <code><a href="SexRatio.fn.html">SexRatio.fn()</a></code> 
        </dt>
        <dd>Assign sex to unsexed fish based on fish with similar traits</dd>
      </dl><dl><dt>
          
          <code><a href="StrataAreas.fn.html">StrataAreas.fn()</a></code> 
        </dt>
        <dd>Calculate strata area</dd>
      </dl><dl><dt>
          
          <code><a href="StrataFactors.fn.html">StrataFactors.fn()</a></code> 
        </dt>
        <dd>Creates a vector of strata factors by name</dd>
      </dl><dl><dt>
          
          <code><a href="SurveyAFs.fn.html">SurveyAFs.fn()</a></code> 
        </dt>
        <dd>Expands the ages up to the total stratum area then sums over strata Original Version Written by Allan Hicks 16 March 2009 Modified by Chantel Wetzel to work with the data warehouse data formatting, add additional options of when to apply the sex ratio, and correct some treatment of unsexed fish weighted by sample size and area NOTE: The age bin called F0 or M0 is retained to show proportion of ages smaller than smallest bin You will want to likely add this to your first age bin and delete this before putting in SS, or start the ageBins argument at the 2nd age bin and F0 will be all fish smaller (hence the first age bin)</dd>
      </dl><dl><dt>
          
          <code><a href="SurveyAgeAtLen.fn.html">SurveyAgeAtLen.fn()</a></code> 
        </dt>
        <dd>Calculates proportion of age at length and reformats into SS format Uses raw numbers at length, assuming that is a random sample conditioned on length and sex. To use expanded numbers (up to strata areas), set raw=F Only sex codes 1 and 2 and puts males and females on separate lines because the age@L is conditioned on sex (a sample of females of length 25cm, for example) Gender=1: females only. Male values ignored Gender=2: males only. Female values ignored. lgthBins is either the interval between length bins or the actual length bins note that 0 and Inf are tacked on the ends to account for lengths and ages outside the interval. You may want to add these in to first and last bin. I assume all fish are sexed for age data, thus do not apply sex ratios for unsexed fish</dd>
      </dl><dl><dt>
          
          <code><a href="SurveyLFs.fn.html">SurveyLFs.fn()</a></code> 
        </dt>
        <dd>Expands the lengths up to the total stratum area then sums over strata</dd>
      </dl><dl><dt>
          
          <code><a href="UnexpandedAFs.fn.html">UnexpandedAFs.fn()</a></code> 
        </dt>
        <dd>Creates a matrix of length or age composition data WITHOUT expantion Written by Chantel Wetzel to work with the data warehouse data formatting,</dd>
      </dl><dl><dt>
          
          <code><a href="UnexpandedLFs.fn.html">UnexpandedLFs.fn()</a></code> 
        </dt>
        <dd>Creates a matrix of length or age composition data WITHOUT expantion Written by Chantel Wetzel to work with the data warehouse data formatting,</dd>
      </dl><dl><dt>
          
          <code><a href="availablecells.html">availablecells</a></code> 
        </dt>
        <dd>Available grid cell locations for the survey</dd>
      </dl><dl><dt>
          
          <code><a href="bio_nwfsc_combo.html">bio_nwfsc_combo</a></code> 
        </dt>
        <dd>Example data for NWFSC bio data</dd>
      </dl><dl><dt>
          
          <code><a href="catch_nwfsc_combo.html">catch_nwfsc_combo</a></code> 
        </dt>
        <dd>Example data for NWFSC catch data</dd>
      </dl><dl><dt>
          
          <code><a href="check_dir.html">check_dir()</a></code> 
        </dt>
        <dd>Directory check</dd>
      </dl><dl><dt>
          
          <code><a href="check_survey.html">check_survey()</a></code> 
        </dt>
        <dd>Check and create survey string</dd>
      </dl><dl><dt>
          
          <code><a href="codify_sex.html">codify_sex()</a></code> <code><a href="codify_sex.html">codify_sex_SS3()</a></code> 
        </dt>
        <dd>Code sexes into standardized strings</dd>
      </dl><dl><dt>
          
          <code><a href="convert_to_hex_string.html">convert_to_hex_string()</a></code> 
        </dt>
        <dd>Utility function used throughout the package</dd>
      </dl><dl><dt>
          
          <code><a href="createMatrix.html">createMatrix()</a></code> 
        </dt>
        <dd>Survey name matching function used when pull from the data warehouse The website is: https://www.webapp.nwfsc.noaa.gov/data</dd>
      </dl><dl><dt>
          
          <code><a href="draw_USEEZ.html">draw_USEEZ()</a></code> 
        </dt>
        <dd>Bounds the figure with the limits of the U.S. EEZ</dd>
      </dl><dl><dt>
          
          <code><a href="draw_theme.html">draw_theme()</a></code> 
        </dt>
        <dd>A ggplot2 theme for drawing maps</dd>
      </dl><dl><dt>
          
          <code><a href="est_growth.html">est_growth()</a></code> 
        </dt>
        <dd>Estimate length-at-age using the von Bertanlaffy parametization from Stock Synthesis.</dd>
      </dl><dl><dt>
          
          <code><a href="estimate_weight_length.html">estimate_weight_length()</a></code> 
        </dt>
        <dd>Calculate weight-length relationship parameters</dd>
      </dl><dl><dt>
          
          <code><a href="fit_vbgrowth.html">fit_vbgrowth()</a></code> 
        </dt>
        <dd>Estimate von Bertanlaffy growth parameters from lengths and ages</dd>
      </dl><dl><dt>
          
          <code><a href="get_json.html">get_json()</a></code> 
        </dt>
        <dd>Get json content from a URL</dd>
      </dl><dl><dt>
          
          <code><a href="get_url.html">get_url()</a></code> 
        </dt>
        <dd>Function to create url to pull data from the data warehouse</dd>
      </dl><dl><dt>
          
          <code><a href="plot_age_length_sampling.html">plot_age_length_sampling()</a></code> 
        </dt>
        <dd>Plot the represntativeness of age sampling based on lengths</dd>
      </dl><dl><dt>
          
          <code><a href="plot_bio_patterns.html">plot_bio_patterns()</a></code> 
        </dt>
        <dd>This function plots length by latitude and depth</dd>
      </dl><dl><dt>
          
          <code><a href="plot_comps.html">plot_comps()</a></code> 
        </dt>
        <dd>Plot frequency data as bubble plots</dd>
      </dl><dl><dt>
          
          <code><a href="plot_cpue.html">plot_cpue()</a></code> 
        </dt>
        <dd>This function plots cpue and length by latitude and depth</dd>
      </dl><dl><dt>
          
          <code><a href="plot_proportion.html">plot_proportion()</a></code> 
        </dt>
        <dd>Plot proportions of factor levels (y axis) by bins (x axis)</dd>
      </dl><dl><dt>
          
          <code><a href="plot_varlenage.html">plot_varlenage()</a></code> 
        </dt>
        <dd>Plot variability of length at age</dd>
      </dl><dl><dt>
          
          <code><a href="plot_westcoast.html">plot_westcoast()</a></code> 
        </dt>
        <dd>Plot the United States west coast using ggplot2</dd>
      </dl><dl><dt>
          
          <code><a href="pull_bio.html">pull_bio()</a></code> 
        </dt>
        <dd>Pull biological data (age, length, weight) from the NWFSC data warehouse The website is: https://www.webapps.nwfsc.noaa.gov/data This function can be used to pull a single species or all observed species In order to pull all species leave common_name or sci_name as NULL</dd>
      </dl><dl><dt>
          
          <code><a href="pull_biological_samples.html">pull_biological_samples()</a></code> 
        </dt>
        <dd>Pull biological sample information from the NWFSC data warehouse for biological collections taken at sea. Generally these are samples that require lab processing. Generally, these types of biological sample are maturity, stomach, fin clips, and tissue samples. This function returns collection information for these samples include the sample numbers which allows the lab analysis to be linked back to the sampled fish. The website is: https://www.webapps.nwfsc.noaa.gov/data.</dd>
      </dl><dl><dt>
          
          <code><a href="pull_catch.html">pull_catch()</a></code> 
        </dt>
        <dd>Pull catch data for satisfactory tows from the NWFSC data warehouse</dd>
      </dl><dl><dt>
          
          <code><a href="pull_gemm.html">pull_gemm()</a></code> 
        </dt>
        <dd>Pull gemm data from the NWFSC data warehouse The website is: https://www.webapps.nwfsc.noaa.gov/data This function can be used to pull all gemm data, a single species, or a subset of species c("Canary Rockfish", "Widow Rockfish"). Species names in the gemm are capitalized (e.g. Canary Rockfish). However, there are checks in the function to adjust input species names if the input names do not match the expected capitalization (e.g. "canary rockfish", "canary_rockfish"). The fuction also allows you to subset the data by year using the years input and to save the object if the dir function input is given.</dd>
      </dl><dl><dt>
          
          <code><a href="pull_haul.html">pull_haul()</a></code> 
        </dt>
        <dd>Pull haul data from the NWFSC data warehouse. The website is: https://www.webapps.nwfsc.noaa.gov/data. This function can be used to pull haul data and associated covariates.</dd>
      </dl><dl><dt>
          
          <code><a href="pull_spp.html">pull_spp()</a></code> 
        </dt>
        <dd>Pull species names from the warehouse</dd>
      </dl><dl><dt>
          
          <code><a href="save_rdata.html">save_rdata()</a></code> 
        </dt>
        <dd>Save an object in an <code>.rdata</code> file</dd>
      </dl><dl><dt>
          
          <code><a href="stopifnotcolumn.html">stopifnotcolumn()</a></code> 
        </dt>
        <dd>Stop if column name is not present in the data</dd>
      </dl><dl><dt>
          
          <code><a href="wh_plot_proportion.html">wh_plot_proportion()</a></code> 
        </dt>
        <dd>Save figures of proportions by depth and latitude using warehouse data</dd>
      </dl></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chantel R. Wetzel, Kelli F. Johnson, Allan C. Hicks.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

